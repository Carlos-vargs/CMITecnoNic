window.addEventListener("app:mounted",(()=>{new Modal("#cmiModal"),new Modal("#cmiEditModal"),window.openCMIModal=async function(e){try{const t=document.getElementById("cmiEditTitle"),o=e.getAttribute("data-id"),a=e.getAttribute("data-name"),d=document.querySelector("#formCMIEditName"),r=document.querySelector("#formCMIEditDate"),n=document.querySelector("#formCMIId");t.textContent="Editar cuadro de mando: "+a;const i=await fetch(`https://localhost:44357/CMI/Edit/${o}`),c=await i.json();d.value=c?.CMI?.Name,n.value=c?.CMI?.Id,r._datepicker=flatpickr(r,{defaultDate:c?.CMI?.StarDate})}catch(e){console.error("Error loading cmi data",e)}};const e=document.querySelector("#cmiDatePicker");e._datepicker=flatpickr(e)}),{once:!0}),document.addEventListener("DOMContentLoaded",(function(){(()=>{const e=()=>{document.querySelectorAll(".popper-ref").forEach((e=>{if(!e.dataset.popperInitialized){const t=e.closest('[id^="dropdown-wrapper-"]').id;new Popper(`#${t}`,".popper-ref",".popper-root",{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),e.dataset.popperInitialized="true"}}))},t=new MutationObserver((t=>{t.forEach((t=>{"childList"==t.type&&e()}))})),o=document.getElementById("cmi-container");t.observe(o,{childList:!0,subtree:!0}),e()})()}));